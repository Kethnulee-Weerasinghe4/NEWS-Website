{"ast":null,"code":"import React,{useState,useEffect}from'react';import Header from'./components/Header';import Footer from'./components/Footer';import NewsList from'./components/NewsList';import Sidebar from'./components/Sidebar';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_KEY=process.env.REACT_APP_NEWS_API_KEY;const App=()=>{const[articles,setArticles]=useState([]);const[category,setCategory]=useState('general');const[query,setQuery]=useState('');useEffect(()=>{const fetchNews=async()=>{try{let url='';if(query){// Search endpoint\nurl=\"https://newsapi.org/v2/everything?q=\".concat(query,\"&language=en&sortBy=publishedAt&apiKey=\").concat(API_KEY);}else{// Category headlines\nurl=\"https://newsapi.org/v2/top-headlines?country=us&category=\".concat(category,\"&apiKey=\").concat(API_KEY);}const response=await fetch(url);const data=await response.json();setArticles(data.articles||[]);}catch(error){console.error('Error fetching news:',error);}};fetchNews();},[category,query]);if(!articles.length){return/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center'},children:\"Loading news...\"});}const[topStory,...rest]=articles;return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(Header,{onSearch:setQuery}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"main-content\",children:/*#__PURE__*/_jsx(NewsList,{articles:rest})}),/*#__PURE__*/_jsx(Sidebar,{articles:rest.slice(0,5)})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","Header","Footer","NewsList","Sidebar","jsx","_jsx","jsxs","_jsxs","API_KEY","process","env","REACT_APP_NEWS_API_KEY","App","articles","setArticles","category","setCategory","query","setQuery","fetchNews","url","concat","response","fetch","data","json","error","console","length","style","textAlign","children","topStory","rest","className","onSearch","slice"],"sources":["C:/Users/wketh/NEWS-Website/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Header from './components/Header';\r\nimport Footer from './components/Footer';\r\nimport NewsList from './components/NewsList';\r\nimport Sidebar from './components/Sidebar';\r\nimport './App.css';\r\n\r\nconst API_KEY = process.env.REACT_APP_NEWS_API_KEY;\r\n\r\nconst App = () => {\r\n  const [articles, setArticles] = useState([]);\r\n  const [category, setCategory] = useState('general');\r\n  const [query, setQuery] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchNews = async () => {\r\n      try {\r\n        let url = '';\r\n        if (query) {\r\n          // Search endpoint\r\n          url = `https://newsapi.org/v2/everything?q=${query}&language=en&sortBy=publishedAt&apiKey=${API_KEY}`;\r\n        } else {\r\n          // Category headlines\r\n          url = `https://newsapi.org/v2/top-headlines?country=us&category=${category}&apiKey=${API_KEY}`;\r\n        }\r\n\r\n        const response = await fetch(url);\r\n        const data = await response.json();\r\n        setArticles(data.articles || []);\r\n      } catch (error) {\r\n        console.error('Error fetching news:', error);\r\n      }\r\n    };\r\n\r\n    fetchNews();\r\n  }, [category, query]);\r\n\r\n  if (!articles.length) {\r\n    return <p style={{ textAlign: 'center' }}>Loading news...</p>;\r\n  }\r\n\r\n  const [topStory, ...rest] = articles;\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <Header onSearch={setQuery} />\r\n      \r\n      <div className=\"container\">\r\n        <div className=\"main-content\">\r\n          <NewsList articles={rest} />\r\n        </div>\r\n        <Sidebar articles={rest.slice(0, 5)} />\r\n      </div>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CACxC,MAAO,CAAAC,QAAQ,KAAM,uBAAuB,CAC5C,MAAO,CAAAC,OAAO,KAAM,sBAAsB,CAC1C,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnB,KAAM,CAAAC,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB,CAElD,KAAM,CAAAC,GAAG,CAAGA,CAAA,GAAM,CAChB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACiB,QAAQ,CAAEC,WAAW,CAAC,CAAGlB,QAAQ,CAAC,SAAS,CAAC,CACnD,KAAM,CAACmB,KAAK,CAAEC,QAAQ,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CAEtCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAoB,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,GAAI,CAAAC,GAAG,CAAG,EAAE,CACZ,GAAIH,KAAK,CAAE,CACT;AACAG,GAAG,wCAAAC,MAAA,CAA0CJ,KAAK,4CAAAI,MAAA,CAA0Cb,OAAO,CAAE,CACvG,CAAC,IAAM,CACL;AACAY,GAAG,6DAAAC,MAAA,CAA+DN,QAAQ,aAAAM,MAAA,CAAWb,OAAO,CAAE,CAChG,CAEA,KAAM,CAAAc,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACH,GAAG,CAAC,CACjC,KAAM,CAAAI,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAClCX,WAAW,CAACU,IAAI,CAACX,QAAQ,EAAI,EAAE,CAAC,CAClC,CAAE,MAAOa,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CACF,CAAC,CAEDP,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACJ,QAAQ,CAAEE,KAAK,CAAC,CAAC,CAErB,GAAI,CAACJ,QAAQ,CAACe,MAAM,CAAE,CACpB,mBAAOvB,IAAA,MAAGwB,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAC,QAAA,CAAC,iBAAe,CAAG,CAAC,CAC/D,CAEA,KAAM,CAACC,QAAQ,CAAE,GAAGC,IAAI,CAAC,CAAGpB,QAAQ,CAEpC,mBACEN,KAAA,QAAK2B,SAAS,CAAC,KAAK,CAAAH,QAAA,eAClB1B,IAAA,CAACL,MAAM,EAACmC,QAAQ,CAAEjB,QAAS,CAAE,CAAC,cAE9BX,KAAA,QAAK2B,SAAS,CAAC,WAAW,CAAAH,QAAA,eACxB1B,IAAA,QAAK6B,SAAS,CAAC,cAAc,CAAAH,QAAA,cAC3B1B,IAAA,CAACH,QAAQ,EAACW,QAAQ,CAAEoB,IAAK,CAAE,CAAC,CACzB,CAAC,cACN5B,IAAA,CAACF,OAAO,EAACU,QAAQ,CAAEoB,IAAI,CAACG,KAAK,CAAC,CAAC,CAAE,CAAC,CAAE,CAAE,CAAC,EACpC,CAAC,cAEN/B,IAAA,CAACJ,MAAM,GAAE,CAAC,EACP,CAAC,CAEV,CAAC,CAED,cAAe,CAAAW,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}